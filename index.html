<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¤– TerminalGen AI 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        /* SAME PERFECT STYLING - UNCHANGED */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Fira Code', monospace;
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0033 50%, #000428 100%);
            height: 100vh;
            overflow: hidden;
            color: #e0e0e0;
        }
        .container { display: grid; grid-template-rows: 60px 70px 1fr 30px; height: 100vh; gap: 0; }
        .header { 
            background: rgba(10,10,26,0.95); 
            backdrop-filter: blur(20px); 
            display: flex; 
            align-items: center; 
            justify-content: space-between;
            padding: 0 30px; 
            border-bottom: 1px solid rgba(0,255,204,0.3); 
        }
        .title { 
            font-size: 28px; 
            font-weight: 600; 
            background: linear-gradient(45deg, #00ffcc, #00d4ff); 
            -webkit-background-clip: text; 
            -webkit-text-fill-color: transparent; 
            text-shadow: 0 0 30px rgba(0,255,204,0.5); 
        }
        .buttons { display: flex; gap: 15px; }
        .btn { 
            padding: 12px 24px; 
            border: none; 
            border-radius: 25px; 
            font-family: 'Fira Code', monospace; 
            font-weight: 500; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            font-size: 14px; 
            backdrop-filter: blur(20px); 
        }
        .btn-all { background: rgba(0,255,136,0.2); color: #00ff88; border: 2px solid #00ff88; }
        .btn-cli { background: rgba(255,0,128,0.2); color: #ff0080; border: 2px solid #ff0080; }
        .btn-clear { background: rgba(102,102,255,0.2); color: #6666ff; border: 2px solid #6666ff; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,0.4); }
        .search-container { 
            background: rgba(26,26,46,0.9); 
            backdrop-filter: blur(25px); 
            padding: 20px 30px; 
            border-bottom: 1px solid rgba(0,255,204,0.2); 
        }
        .search-box { 
            width: 100%; 
            max-width: 800px; 
            height: 50px; 
            padding: 0 20px; 
            border: 2px solid transparent; 
            border-radius: 25px; 
            background: rgba(15,15,35,0.8); 
            color: #fff; 
            font-size: 16px; 
            font-family: 'Fira Code', monospace; 
            outline: none; 
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
            box-shadow: 0 8px 32px rgba(0,0,0,0.3); 
        }
        .search-box:focus { 
            border-color: #00ffcc; 
            box-shadow: 0 0 30px rgba(0,255,204,0.4); 
            transform: translateY(-2px); 
        }
        .main-content { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 20px; 
            padding: 30px; 
            height: calc(100% - 20px); 
        }
        .panel { 
            background: rgba(26,26,46,0.85); 
            backdrop-filter: blur(30px); 
            border-radius: 20px; 
            border: 1px solid rgba(255,255,255,0.1); 
            overflow: hidden; 
            box-shadow: 0 20px 60px rgba(0,0,0,0.5); 
            transition: transform 0.3s ease; 
        }
        .panel:hover { transform: translateY(-5px); }
        .panel-header { 
            padding: 25px 30px; 
            font-size: 18px; 
            font-weight: 600; 
            border-bottom: 1px solid rgba(255,255,255,0.1); 
        }
        .matrix-header { color: #00ff88; }
        .terminal-header { color: #ff0080; }
        .content { 
            height: calc(100% - 70px); 
            padding: 25px 30px; 
            overflow-y: auto; 
            font-size: 14px; 
            line-height: 1.6; 
        }
        .command-item { 
            padding: 15px 20px; 
            margin-bottom: 10px; 
            background: rgba(0,0,0,0.3); 
            border-radius: 12px; 
            border-left: 4px solid #00ffcc; 
            cursor: pointer; 
            transition: all 0.3s ease; 
            opacity: 0; 
            animation: slideIn 0.5s ease forwards; 
        }
        .command-item:hover { 
            background: rgba(0,255,204,0.1); 
            transform: translateX(10px); 
            box-shadow: 0 5px 20px rgba(0,255,204,0.2); 
        }
        @keyframes slideIn { to { opacity: 1; transform: translateX(0); } }
        .terminal-output { 
            background: rgba(0,0,0,0.6); 
            border-radius: 10px; 
            padding: 20px; 
            font-family: 'Fira Code', monospace; 
            white-space: pre-wrap; 
            line-height: 1.7; 
            height: 75%; 
            overflow-y: auto; 
        }
        .terminal-input { 
            margin-top: 15px; 
            display: flex; 
            align-items: center; 
        }
        .prompt { color: #00ff88; margin-right: 10px; font-weight: 500; }
        .terminal-input input { 
            flex: 1; 
            background: rgba(15,15,35,0.8); 
            border: 2px solid transparent; 
            border-radius: 8px; 
            padding: 12px 16px; 
            color: #fff; 
            font-family: 'Fira Code', monospace; 
            outline: none; 
            font-size: 14px; 
        }
        .terminal-input input:focus { 
            border-color: #ff0080; 
            box-shadow: 0 0 20px rgba(255,0,128,0.3); 
        }
        .status { 
            background: rgba(10,10,26,0.95); 
            backdrop-filter: blur(20px); 
            padding: 10px 30px; 
            font-size: 14px; 
            border-top: 1px solid rgba(0,255,204,0.2); 
        }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(0,0,0,0.2); }
        ::-webkit-scrollbar-thumb { background: rgba(0,255,204,0.4); border-radius: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="title">ğŸ¤– TerminalGen AI 2026</div>
            <div class="buttons">
                <button class="btn btn-all" onclick="listAll()">ğŸŒ ALL</button>
                <button class="btn btn-cli" onclick="runCLI()">âš¡ CLI</button>
                <button class="btn btn-clear" onclick="clearAll()">ğŸ§¹ CLEAR</button>
            </div>
        </div>
        
        <div class="search-container">
            <input type="text" class="search-box" id="searchInput" 
                   placeholder="ğŸ” Search git docker aws kubectl npm... (live search)" 
                   oninput="debouncedSearch()">
        </div>
        
        <div class="main-content">
            <div class="panel">
                <div class="panel-header matrix-header">ğŸ“Š QUANTUM MATRIX</div>
                <div class="content" id="commandList">
                    <div style="color:#888; text-align:center; padding:50px;">
                        Initializing dataset... ğŸš€
                    </div>
                </div>
            </div>
            <div class="panel">
                <div class="panel-header terminal-header">ğŸ¤– AI TERMINAL v2026</div>
                <div class="content">
                    <div class="terminal-output" id="terminalOutput">
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ§  NEURAL NETWORK READY                             â•‘
â•‘  ğŸ’¾ Loading 626k command database...                 â•‘
â•‘  âš¡ JS search engine initializing...                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    </div>
                    <div class="terminal-input">
                        <span class="prompt">$</span>
                        <input id="terminalInput" placeholder="Type command or click from matrix..." 
                               onkeydown="if(event.key==='Enter') runCmd(terminalInput.value)">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="status">
            <span id="statusText">ğŸ§¬ Initializing 626k dataset...</span>
        </div>
    </div>

    <script>
        let allCommands = [];

        // âœ… FIXED PATH - Vercel correct: './data/commands.json'
        fetch('./data/commands.json').then(r => r.json()).then(commands => {
            allCommands = commands;
            document.getElementById('statusText').textContent = 
                `ğŸ§¬ READY - ${allCommands.length.toLocaleString()} quantum nodes synchronized`;
            document.getElementById('terminalOutput').innerHTML += `\nâœ… Full 626k dataset loaded!`;
            liveSearch();
        }).catch(() => {
            // âœ… FALLBACK DATASET
            allCommands = [
                {"name": "git status", "description": "Check git status", "usage": "git status", "language": "Git"},
                {"name": "docker ps", "description": "List containers", "usage": "docker ps", "language": "Docker"},
                {"name": "kubectl get pods", "description": "List pods", "usage": "kubectl get pods", "language": "Kubernetes"},
                {"name": "npm install", "description": "Install packages", "usage": "npm install", "language": "NPM"},
                {"name": "aws s3 ls", "description": "List S3 buckets", "usage": "aws s3 ls", "language": "AWS"}
            ];
            document.getElementById('statusText').textContent = 
                `ğŸ§¬ READY - ${allCommands.length} demo nodes (JSON failed to load)`;
            document.getElementById('terminalOutput').innerHTML += `\nâœ… Demo dataset loaded!`;
            liveSearch();
        });

        let searchTimeout;
        function debouncedSearch() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(liveSearch, 150);
        }

        // ğŸ”¥ FIXED: BULLETPROOF LIVESEARCH - SAFE NULL CHECKS EVERYWHERE
        function liveSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const list = document.getElementById('commandList');
            list.innerHTML = '';
            let matches = 0;
            
            if (query && allCommands.length > 0) {
                const results = allCommands.filter(cmd => {
                    // ğŸ”¥ BULLETPROOF - handles ALL undefined/null/empty cases
                    if (!cmd || typeof cmd !== 'object') return false;
                    
                    const name = cmd.name || '';
                    const desc = cmd.description || '';
                    const usage = cmd.usage || '';
                    const lang = cmd.language || '';
                    
                    try {
                        const q = query.toLowerCase();
                        return name.toLowerCase().includes(q) ||
                               desc.toLowerCase().includes(q) ||
                               usage.toLowerCase().includes(q) ||
                               lang.toLowerCase().includes(q);
                    } catch(e) {
                        return false;
                    }
                }).slice(0, 25);

                results.forEach((cmd, idx) => {
                    if (cmd && cmd.name) {
                        const item = document.createElement('div');
                        item.className = 'command-item';
                        const safeLang = cmd.language ? cmd.language.toUpperCase() : 'CLI';
                        item.innerHTML = `<span style="color:#00ffcc">${safeLang}</span> ${cmd.name}`;
                        item.onclick = () => showDetails(cmd);
                        item.style.animationDelay = `${idx * 0.05}s`;
                        list.appendChild(item);
                        matches++;
                    }
                });
            } else if (allCommands.length > 0) {
                // Show top 25 commands when no search
                allCommands.slice(0, 25).forEach((cmd, idx) => {
                    if (cmd && cmd.name && typeof cmd === 'object') {
                        const item = document.createElement('div');
                        item.className = 'command-item';
                        const safeLang = cmd.language ? cmd.language.toUpperCase() : 'CLI';
                        item.innerHTML = `<span style="color:#00ffcc">${safeLang}</span> ${cmd.name}`;
                        item.onclick = () => showDetails(cmd);
                        item.style.animationDelay = `${idx * 0.05}s`;
                        list.appendChild(item);
                        matches++;
                    }
                });
            }
            
            document.getElementById('statusText').textContent = 
                `ğŸ§  Neural matches: ${matches} / ${allCommands.length.toLocaleString()} nodes`;
        }

        function demoOutput(cmd) {
            if(cmd.includes('git status')) return 'On branch main\nYour branch is up to date\nNo pending changes';
            if(cmd.includes('docker ps')) return 'CONTAINER ID   IMAGE     STATUS\nabc123def456   nginx     Up 2 hours';
            if(cmd.includes('kubectl get pods')) return 'NAME           READY   STATUS\nweb-pod-xyz    1/1     Running';
            if(cmd.includes('npm install')) return 'added 154 packages in 2.3s';
            if(cmd.includes('aws s3 ls')) return '2026-01-21  my-bucket1\n2026-01-20  my-backup';
            if(cmd.includes('ls')) return './assets/ data/ templates/ gui.py main.cpp parser.js';
            if(cmd==='help') return 'Available: git docker kubectl aws npm python bash... (626k total)';
            return `[demo] ${cmd} executed`;
        }

        function showDetails(cmd) {
            const terminal = document.getElementById('terminalOutput');
            terminal.innerHTML += `\n\n$ ${cmd.name}`;
            terminal.scrollTop = terminal.scrollHeight;
            
            setTimeout(() => {
                terminal.innerHTML += `\n${demoOutput(cmd.name)}`;
                terminal.scrollTop = terminal.scrollHeight;
            }, 200);
            
            document.getElementById('terminalInput').value = cmd.name;
        }

        function runCmd(cmd) {
            if (!cmd.trim()) return;
            const terminal = document.getElementById('terminalOutput');
            terminal.innerHTML += `\n\n$ ${cmd}`;
            terminal.scrollTop = terminal.scrollHeight;
            
            setTimeout(() => {
                terminal.innerHTML += `\n${demoOutput(cmd)}`;
                terminal.scrollTop = terminal.scrollHeight;
            }, 300);
            
            document.getElementById('terminalInput').value = '';
        }

        function listAll() {
            document.getElementById('searchInput').value = '';
            liveSearch();
        }

        function runCLI() {
            const query = document.getElementById('searchInput').value;
            if (query) runCmd(query);
        }

        function clearAll() {
            document.getElementById('searchInput').value = '';
            document.getElementById('commandList').innerHTML = 
                '<div style="color:#888; text-align:center; padding:50px;">Neural matrix cleared</div>';
            document.getElementById('terminalOutput').innerHTML = 
                'ğŸ§  Neural matrix cleared - Ready for quantum scan';
            document.getElementById('statusText').textContent = 'ğŸ§¬ Ready';
            document.getElementById('terminalInput').value = '';
        }
    </script>
</body>
</html>
